{"version":3,"sources":["../../src/app/app.component.ts","../../src/app/data.ts","../../src/app/store.ts","../../src/app/JsonFormsPage.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/app/custom.autocomplete.control.ts","../../src/app/custom.data-display.page.ts","../../src/app/lang.page.ts","../../src/app/lang.service.ts","../../src/app/main.ts","../../src/app/app.module.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from \"@angular/core\";\r\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\r\nimport { StatusBar } from \"@ionic-native/status-bar\";\r\nimport { Platform } from \"ionic-angular\";\r\nimport {JsonFormsPage} from \"./JsonFormsPage\";\r\n\r\n@Component({\r\n  templateUrl: \"app.html\"\r\n})\r\nexport class MyApp {\r\n\r\n  private page: JsonFormsPage;\r\n\r\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n    });\r\n\r\n    this.page = JsonFormsPage;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","// tslint:disable object-literal-sort-keys\r\nexport default {\r\n  orders: [\r\n    {\r\n      customer: {\r\n        department: \"Complaints Division\",\r\n        id: \"471201\",\r\n        name: \"Sirius Cybernetics Corporation\",\r\n      },\r\n      title: \"42 killer robots\",\r\n      ordered: true,\r\n      processId: 144,\r\n      assignee: \"Philip J. Fry\",\r\n      status: \"ordered\",\r\n      startDate: \"2018-06-01\",\r\n      endDate: \"2018-08-01\",\r\n    },\r\n    {\r\n      customer: {\r\n        id: \"471202\",\r\n        name: \"Very Big Corporation of America\"\r\n      },\r\n      title: \"1000 gallons of MomCorp Oil\",\r\n      processId: 1890004499,\r\n      assignee: \"Jen Barber\",\r\n      startDate: \"2018-07-01\",\r\n      status: \"planned\",\r\n      amount: 30\r\n    }\r\n  ]\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/data.ts","import {\r\n  and,\r\n  isControl,\r\n  jsonformsReducer,\r\n  JsonFormsState,\r\n  optionIs,\r\n  RankedTester,\r\n  rankWith,\r\n  schemaTypeIs,\r\n  scopeEndsWith,\r\n} from \"@jsonforms/core\";\r\nimport {ionicRenderers} from \"@jsonforms/ionic-renderers\";\r\nimport {combineReducers, Reducer} from \"redux\";\r\n\r\nimport {CustomAutocompleteControl} from \"./custom.autocomplete.control\";\r\nimport {DataDisplayPage} from \"./custom.data-display.page\";\r\nimport {LangPage} from \"./lang.page\";\r\n\r\nexport const rootReducer: Reducer<JsonFormsState> = combineReducers({ jsonforms: jsonformsReducer() });\r\n\r\nconst departmentTester: RankedTester = rankWith(5, and(\r\n  schemaTypeIs(\"string\"),\r\n  scopeEndsWith(\"department\")\r\n));\r\n\r\nexport const initialState: any = {\r\n  jsonforms: {\r\n    fields: [],\r\n    renderers: [\r\n      ...ionicRenderers,\r\n      { tester: departmentTester, renderer: CustomAutocompleteControl },\r\n      {\r\n        renderer: DataDisplayPage,\r\n        tester: rankWith(\r\n          6,\r\n          and(\r\n            isControl,\r\n            scopeEndsWith(\"___data\")\r\n          )\r\n        )\r\n      },\r\n      {\r\n        renderer: LangPage,\r\n        tester: rankWith(\r\n          6,\r\n          and(\r\n            isControl,\r\n            optionIs(\"lang\", true)\r\n          )\r\n        )\r\n      },\r\n    ],\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store.ts","import {Component} from \"@angular/core\";\r\nimport {IonicPage} from \"ionic-angular\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"jsonforms-page\",\r\n  template:  `\r\n  <ion-header>\r\n    <ion-title>JSON Forms Ionic Playground</ion-title>\r\n  </ion-header>\r\n  <ion-content>\r\n    <jsonforms-outlet></jsonforms-outlet>\r\n  </ion-content>`\r\n})\r\nexport class JsonFormsPage { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/JsonFormsPage.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 267;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 267\n// module chunks = 1","var map = {\n\t\"JsonFormsPage.module\": [\n\t\t1107,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 393;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 393\n// module chunks = 1","import { Component, ViewChild } from \"@angular/core\";\r\nimport {AutoCompleteControlRenderer} from \"@jsonforms/ionic-renderers\";\r\n\r\nimport {IonicSelectableComponent, IonicSelectableModule} from \"ionic-selectable\";\r\nimport * as randomWords from \"random-words\";\r\nimport {of} from \"rxjs/observable/of\";\r\nimport {delay} from \"rxjs/operators/delay\";\r\n\r\nconst words: string[] = randomWords(1000);\r\n\r\nconst fetchSuggestions = (input: string): Promise<string[]> => {\r\n  const filtered: string[] = words.filter((word: string) => word.startsWith(input));\r\n  return of(filtered).pipe(delay(1000)).toPromise();\r\n};\r\n\r\n@Component({\r\n  selector: \"jsonforms-custom-autocomplete-control\",\r\n  template: `\r\n    <ion-item no-lines no-padding>\r\n      <ion-label floating>{{label}}</ion-label>\r\n      <ion-label stacked *ngIf=\"error\" color=\"error\">{{error}}</ion-label>\r\n      <ionic-selectable\r\n        #selectable\r\n        item-content\r\n        [ngModel]=\"data\"\r\n        [items]=\"options\"\r\n        [canSearch]=\"true\"\r\n        (onSearch)=\"onSearch($event)\"\r\n        (onChange)=\"onChange($event)\"\r\n      ></ionic-selectable>\r\n    </ion-item>`\r\n})\r\nexport class CustomAutocompleteControl extends AutoCompleteControlRenderer {\r\n\r\n  @ViewChild(\"selectable\") private selectable: IonicSelectableComponent;\r\n\r\n  private onSearch(ev: {\r\n    component: IonicSelectableModule,\r\n    text: any\r\n  }) {\r\n    super.onChange(ev);\r\n    this.selectable.showLoading();\r\n    fetchSuggestions(ev.text)\r\n      .then(\r\n        (options: string[]) => {\r\n          this.options = options;\r\n          this.selectable.hideLoading();\r\n        }\r\n      );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/custom.autocomplete.control.ts","import {NgRedux} from \"@angular-redux/store\";\r\nimport {Component} from \"@angular/core\";\r\nimport {JsonFormsControl} from \"@jsonforms/angular\";\r\nimport {ControlProps, JsonFormsState} from \"@jsonforms/core\";\r\n\r\n@Component({\r\n  selector: \"jsonforms-data-page\",\r\n  template:  \"<pre>{{dataAsString}}</pre>\"\r\n})\r\nexport class DataDisplayPage extends JsonFormsControl {\r\n\r\n  private dataAsString: string;\r\n\r\n  constructor(protected ngRedux: NgRedux<JsonFormsState>) {\r\n    super(ngRedux);\r\n  }\r\n\r\n  public mapAdditionalProps(props: ControlProps) {\r\n    this.dataAsString = JSON.stringify(props.data, null, 2);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/custom.data-display.page.ts","import {NgRedux} from \"@angular-redux/store\";\r\nimport {Component} from \"@angular/core\";\r\nimport {JsonFormsControl} from \"@jsonforms/angular\";\r\nimport {ControlProps, getLocale, JsonFormsState, setLocale, setSchema, setUISchema} from \"@jsonforms/core\";\r\nimport {LangService} from \"./lang.service\";\r\n\r\n@Component({\r\n  selector: \"lang-page\",\r\n  template:  `\r\n    <p>Click button to set locale</p>\r\n    <p>Current locale: {{currentLocale}}</p>\r\n    <button ion-button (click)=\"changeLocale('de-DE')\">de-DE</button>\r\n    <button ion-button (click)=\"changeLocale('en-US')\">en-US</button>\r\n  `\r\n})\r\nexport class LangPage extends JsonFormsControl {\r\n\r\n  private currentLocale: string;\r\n\r\n  constructor(protected ngRedux: NgRedux<JsonFormsState>, private langService: LangService) {\r\n    super(ngRedux);\r\n  }\r\n\r\n  public mapAdditionalProps(props: ControlProps) {\r\n    this.currentLocale = getLocale(this.ngRedux.getState());\r\n  }\r\n\r\n  private changeLocale(localeString: string) {\r\n    this.ngRedux.dispatch(setLocale(localeString));\r\n    this.ngRedux.dispatch(setSchema(this.langService.getSchema(localeString)));\r\n    this.ngRedux.dispatch(setUISchema(this.langService.getUISchema(localeString)));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lang.page.ts","import { Injectable } from \"@angular/core\";\r\nimport {JsonSchema, UISchemaElement} from \"@jsonforms/core\";\r\n\r\n@Injectable()\r\nexport class LangService {\r\n\r\n  private localizedSchemas = new Map<string, JsonSchema>();\r\n  private localizedUISchemas = new Map<string, UISchemaElement>();\r\n\r\n  public setSchema(locale: string, schema: JsonSchema) {\r\n    this.localizedSchemas.set(locale, schema);\r\n  }\r\n\r\n  public setUISchema(locale: string, schema: UISchemaElement) {\r\n    this.localizedUISchemas.set(locale, schema);\r\n  }\r\n\r\n  public getSchema(locale: string) {\r\n    return this.localizedSchemas.get(locale);\r\n  }\r\n\r\n  public getUISchema(locale: string) {\r\n    return this.localizedUISchemas.get(locale);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/lang.service.ts","import { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\r\nimport { AppModule } from \"./app.module\";\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import {DevToolsExtension, NgRedux} from \"@angular-redux/store\";\r\nimport { HttpClient, HttpClientModule } from \"@angular/common/http\";\r\nimport {ErrorHandler, isDevMode, NgModule} from \"@angular/core\";\r\nimport {BrowserModule} from \"@angular/platform-browser\";\r\nimport {SplashScreen} from \"@ionic-native/splash-screen\";\r\nimport {StatusBar} from \"@ionic-native/status-bar\";\r\nimport {Actions, JsonFormsState, setLocale, UISchemaElement} from \"@jsonforms/core\";\r\nimport {JsonFormsIonicModule} from \"@jsonforms/ionic-renderers\";\r\nimport {IonicApp, IonicErrorHandler, IonicModule} from \"ionic-angular\";\r\nimport * as JsonRefs from \"json-refs\";\r\nimport * as _ from \"lodash\";\r\nimport logger from \"redux-logger\";\r\nimport {forkJoin} from \"rxjs/observable/forkJoin\";\r\n\r\nimport {MyApp} from \"./app.component\";\r\nimport {CustomAutocompleteControl} from \"./custom.autocomplete.control\";\r\nimport {DataDisplayPage} from \"./custom.data-display.page\";\r\nimport data from \"./data\";\r\nimport {JsonFormsPage} from \"./JsonFormsPage\";\r\nimport {LangPage} from \"./lang.page\";\r\nimport {LangService} from \"./lang.service\";\r\nimport {initialState, rootReducer} from \"./store\";\r\n\r\n@NgModule({\r\n  bootstrap: [IonicApp],\r\n  declarations: [\r\n    MyApp,\r\n    JsonFormsPage,\r\n    CustomAutocompleteControl,\r\n    DataDisplayPage,\r\n    LangPage\r\n  ],\r\n  entryComponents: [\r\n    MyApp,\r\n    JsonFormsPage,\r\n    CustomAutocompleteControl,\r\n    DataDisplayPage,\r\n    LangPage\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    JsonFormsIonicModule,\r\n    IonicModule.forRoot(MyApp),\r\n    HttpClientModule\r\n  ],\r\n  providers: [\r\n    LangService,\r\n    StatusBar,\r\n    SplashScreen,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n  ],\r\n})\r\nexport class AppModule {\r\n\r\n  constructor(\r\n    ngRedux: NgRedux<JsonFormsState>,\r\n    devTools: DevToolsExtension,\r\n    http: HttpClient,\r\n    langService: LangService\r\n  ) {\r\n    let enhancers = [];\r\n    // ... add whatever other enhancers you want.\r\n\r\n    // You probably only want to expose this tool in devMode.\r\n    if (isDevMode() && devTools.isEnabled()) {\r\n      enhancers = [ ...enhancers, devTools.enhancer() ];\r\n    }\r\n\r\n    ngRedux.configureStore(\r\n      rootReducer,\r\n      initialState,\r\n      [logger],\r\n      enhancers\r\n    );\r\n\r\n    ngRedux.dispatch(setLocale(\"en-US\"));\r\n\r\n    forkJoin(\r\n      http.get(\"./assets/uischema.json\"),\r\n      http.get(\"./assets/schema.json\")\r\n    ).subscribe(([uischema, schema]) => {\r\n      JsonRefs.resolveRefs(schema)\r\n        .then(\r\n          (res: any) => {\r\n            const resolvedSchema = res.resolved;\r\n            const deSchema = _.cloneDeep(resolvedSchema);\r\n            _.set(deSchema, \"definitions.order.properties.customer.properties.department.description\", \"Abteilung\");\r\n            langService.setSchema(\"de-DE\", deSchema);\r\n            langService.setSchema(\"en-US\", resolvedSchema);\r\n\r\n            const deUISchema = _.cloneDeep(uischema);\r\n            _.set(deUISchema, \"elements.0.elements.0.options.detail.elements.0.elements.0.label\", \"Titel\");\r\n            langService.setUISchema(\"de-DE\", deUISchema);\r\n            langService.setUISchema(\"en-US\", uischema as UISchemaElement);\r\n\r\n            ngRedux.dispatch(\r\n              Actions.init(\r\n                data,\r\n                res.resolved,\r\n                uischema as UISchemaElement,\r\n              )\r\n            );\r\n          }\r\n        );\r\n    });\r\n\r\n    // uncomment to test live update\r\n    /*\r\n    setTimeout(() => {\r\n      console.log(\"pushing additional category\");\r\n      uischema.elements.push({\r\n        type: \"Category\",\r\n        label: \"Test\",\r\n        elements: []\r\n      });\r\n      JsonRefs.resolveRefs(schema)\r\n        .then(\r\n          res =>\r\n            ngRedux.dispatch(Actions.init(\r\n              data,\r\n              res.resolved,\r\n              uischema as UISchemaElement\r\n            ))\r\n        )\r\n    }, 4000);\r\n    */\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts"],"sourceRoot":""}