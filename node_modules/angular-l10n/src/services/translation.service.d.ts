import { Observable } from 'rxjs/Observable';
import { Subject } from 'rxjs/Subject';
import { TranslationConfig } from '../models/l10n-config';
import { LocaleService } from './locale.service';
import { TranslationProvider } from './translation-provider';
import { TranslationHandler } from './translation-handler';
/**
 * Manages the translation data.
 */
export interface ITranslationService {
    translationError: Subject<any>;
    getConfiguration(): TranslationConfig;
    init(): Promise<void>;
    /**
     * Fired when the translation data has been loaded. Returns the translation language.
     */
    translationChanged(): Observable<string>;
    /**
     * Translates a key or an array of keys.
     * @param keys The key or an array of keys to be translated
     * @param args Optional parameters contained in the key
     * @param lang The current language of the service is used by default
     * @return The translated value or an object: {key: value}
     */
    translate(keys: string | string[], args?: any, lang?: string): string | any;
    translateAsync(keys: string | string[], args?: any, lang?: string): Observable<string | any>;
}
/**
 * Manages the translation data.
 */
export declare class TranslationService implements ITranslationService {
    private configuration;
    private locale;
    private translationProvider;
    private translationHandler;
    translationError: Subject<any>;
    private serviceState;
    private loadingMode;
    private translation;
    /**
     * The translation data: {language: {key: value}}.
     */
    private translationData;
    constructor(configuration: TranslationConfig, locale: LocaleService, translationProvider: TranslationProvider, translationHandler: TranslationHandler);
    getConfiguration(): TranslationConfig;
    init(): Promise<void>;
    /**
     * Fired when the translation data has been loaded. Returns the translation language.
     */
    translationChanged(): Observable<string>;
    /**
     * Translates a key or an array of keys.
     * @param keys The key or an array of keys to be translated
     * @param args Optional parameters contained in the key
     * @param lang The current language of the service is used by default
     * @return The translated value or an object: {key: value}
     */
    translate(keys: string | string[], args?: any, lang?: string): string | any;
    translateAsync(keys: string | string[], args?: any, lang?: string): Observable<string | any>;
    private translateKey(key, args, lang);
    private getValue(key, args, lang);
    private translateI18nPlural(key, args, lang);
    private translateNumber(keyNumber);
    private loadTranslation();
    private composeLanguage(composedLanguage);
    private getTranslation(language);
    private addData(data, language);
    private releaseTranslation(language);
    private sendEvents(language);
}
